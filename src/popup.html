<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Popup</title>
    <style>
        body { font-family: sans-serif; margin: 0; padding: 5px; background-color: #333; color: white; border-radius: 8px; display: flex; gap: 5px; overflow: hidden; }
        button { background: #444; border: 1px solid #555; color: white; border-radius: 5px; padding: 8px 12px; cursor: pointer; font-size: 14px; transition: background-color 0.2s; }
        button:hover { background-color: #5a5a5a; }
    </style>
</head>
<body>
    <button id="copy-btn">Copiar</button>
    <button id="translate-btn">Traduzir</button>
    <button id="search-btn">Pesquisar</button>

    <script>
        console.log('--- POPUP.HTML SCRIPT CARREGADO! ---'); // LOG 5

        const params = new URLSearchParams(window.location.search);
        const selectedText = params.get('text');
        console.log('Texto recebido pelo popup:', selectedText); // LOG 6

        document.getElementById('copy-btn').addEventListener('click', () => {
            console.log('Botão COPIAR clicado.'); // LOG 7
            window.electronPopupAPI.sendAction('copy', selectedText);
        });
        document.getElementById('translate-btn').addEventListener('click', () => {
            console.log('Botão TRADUZIR clicado.'); // LOG 8
            window.electronPopupAPI.sendAction('translate', selectedText);
        });
        document.getElementById('search-btn').addEventListener('click', () => {
            console.log('Botão PESQUISAR clicado.'); // LOG 9
            window.electronPopupAPI.sendAction('search', selectedText);
        });
    </script>
</body>
</html>